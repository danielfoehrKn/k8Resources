#!/usr/bin/env bash
# IMPORTANT: Create Vms/Nodes assigned to an Service Account/IAM Permissions with the Roles Cloud SQL Admin & Compute Admin & Kubernetes Engine Admin
gcloud beta container --project "k8blackwater" clusters create "k8blackwater-auto" --zone "europe-west1-b" --preemptible --username "admin" --cluster-version "1.9.7-gke.6" --machine-type "g1-small" --image-type "COS" --disk-type "pd-standard" --disk-size "20" --service-account "blackwaterdefault@k8blackwater.iam.gserviceaccount.com" --num-nodes "4" --enable-cloud-logging --enable-cloud-monitoring --network "projects/k8blackwater/global/networks/default" --subnetwork "projects/k8blackwater/regions/europe-west1/subnetworks/default" --addons HorizontalPodAutoscaling,HttpLoadBalancing,KubernetesDashboard --no-enable-autoupgrade --enable-autorepair
